
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Editing Components Â· Kiln</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-bootstrap-callout/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="editing-components.html" />
    
    
    <link rel="prev" href="manipulating-components.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="./">
            
                <a href="./#installation">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="./">
            
                <a href="./#usage">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="./">
            
                <a href="./#user-experience">
            
                    
                    User Experience
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="components.html">
            
                <a href="components.html">
            
                    
                    Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html">
            
                    
                    Manipulating Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#basic-lists">
            
                    
                    Component Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#head-lists">
            
                    
                    Head Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#invisible-lists">
            
                    
                    Invisible Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#page-areas">
            
                    
                    Page Areas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#site-specific-components">
            
                    
                    Site-Specific Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.6" data-path="manipulating-components.html">
            
                <a href="manipulating-components.html#fuzzy-lists">
            
                    
                    Fuzzy Lists
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="editing-components.html">
            
                <a href="editing-components.html">
            
                    
                    Editing Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="editing-components.html">
            
                <a href="editing-components.html#inline-wysiwyg">
            
                    
                    Inline WYSIWYG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="editing-components.html">
            
                <a href="editing-components.html#placeholders">
            
                    
                    Placeholders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="editing-components.html">
            
                <a href="editing-components.html#editing-components-with-forms">
            
                    
                    Overlay Forms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="editing-components.html">
            
                <a href="editing-components.html#groups">
            
                    
                    Groups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="editing-components.html">
            
                <a href="editing-components.html#settings-group">
            
                    
                    Settings Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="editing-components.html">
            
                <a href="editing-components.html#tabbed-form-sections">
            
                    
                    Tabbed Forms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="editing-components.html">
            
                <a href="editing-components.html#field-configuration">
            
                    
                    Fields
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="editing-components.html">
            
                <a href="editing-components.html#cross-component-communication">
            
                    
                    Cross Component Communication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kiln-ui.html">
            
                <a href="kiln-ui.html">
            
                    
                    The Kiln UI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="kiln-ui.html">
            
                <a href="kiln-ui.html#view-mode">
            
                    
                    View Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="kiln-ui.html">
            
                <a href="kiln-ui.html#edit-mode">
            
                    
                    Edit Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="kiln-ui.html">
            
                <a href="kiln-ui.html#component-selectors">
            
                    
                    Component Selectors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="api.html">
            
                <a href="api.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="api.html">
            
                <a href="api.html#css-classes">
            
                    
                    CSS Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="api.html">
            
                <a href="api.html#javascript-utilities">
            
                    
                    JS Utils
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="api.html">
            
                <a href="api.html#vue-components">
            
                    
                    Vue Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="api.html">
            
                <a href="api.html#vuex-state">
            
                    
                    Vuex State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="vuex-actions.md">
            
                <span>
            
                    
                    Vuex Actions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="GLOSSARY.html">
            
                <a href="GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Editing Components</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="editing-components">Editing Components</h1>
<p>Components are edited through the fields and forms that are declared in their <code>schema.yml</code> file. This means that developers have maximum flexibility with the template and styling of their components, but end users get a consistent and manageable editing experience.</p>
<h2 id="inline-wysiwyg">Inline WYSIWYG</h2>
<p>The simplest possible form is an inline WYSIWYG field. It consists of a property in the schema, and a <code>data-editable</code> attribute on the editable element in the template.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">title:</span>
<span class="hljs-attr">  _has:</span> inline
</code></pre>
<pre><code class="lang-handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">data-editable</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><span class="hljs-template-variable">{{ title }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</span></code></pre>
<p>When someone clicks the title, it will open an inline WYSIWYG form. The field will inherit styles from your component, for a proper WYSYWIG experience.</p>
<p><img src="images/inline_form.png" alt=""></p>
<h2 id="placeholders">Placeholders</h2>
<p>Placeholders display when fields are empty, and are used to prompt end users to add information. They can be added to any field or group.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">title:</span>
<span class="hljs-attr">  _placeholder:</span>
<span class="hljs-attr">    text:</span> Title
<span class="hljs-attr">    height:</span> <span class="hljs-number">24</span>px
<span class="hljs-attr">  _has:</span> text
</code></pre>
<p>The placeholder will display inside of the element with the relevant <code>data-editable</code> attribute.</p>
<p><img src="images/placeholder.png" alt=""></p>
<div class="callout callout-info"><h4 id="placeholder-heights">Placeholder Heights</h4><div><p>The placeholder height specified in the config is the minimum height of the displayed placeholder. The placeholder will be taller if its parent element has an explicitly set height. When deciding what height to set in the config, remember that it should reflect the height of the content that goes in the field.</p></div></div>
<h3 id="permanent-placeholders">Permanent Placeholders</h3>
<p>If you want to display a placeholder for some field, but don&apos;t want to allow users to click into it, use the <code>data-placeholder</code> attribute. This is useful for situations where a component doesn&apos;t have anything to display in edit mode (like ads), but shouldn&apos;t be relegated to an invisible component list (like...ads).</p>
<p>You must also add the <code>permanent</code> property to the placeholder config to force the placeholder to always display. Permanent placeholders are styled more subtly than regular placeholders, since end users don&apos;t click on them to edit anything.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">adSizes:</span>
<span class="hljs-attr">  _label:</span> Ad Sizes
<span class="hljs-attr">  _has:</span> text
<span class="hljs-attr">  _placeholder:</span>
<span class="hljs-attr">    text:</span> Ad (${adSizes})
<span class="hljs-attr">    height:</span> <span class="hljs-number">100</span>px
<span class="hljs-attr">    permanent:</span> <span class="hljs-literal">true</span>
</code></pre>
<p>Placeholders can display the value of a field, which is useful for components not visible during edit mode, e.g. third-party embeds. The syntax for displaying a value in the placeholder text is <code>${fieldName}</code>, which is similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank">JavaScript template literals</a>. Note that <code>permanent</code> must be enabled.</p>
<p><img src="images/permanent_placeholder.png" alt=""></p>
<h2 id="editing-components-with-forms">Editing Components with Forms</h2>
<p>Inline WYSIWYG fields can accomplish a lot, but not every bit of data in a component is a string of formatted text. For everything else, there&apos;s overlay forms.</p>
<p><img src="images/overlay_form.png" alt=""></p>
<p>Any fields and groups that aren&apos;t inline WYSIWYG inputs will display in overlays. Kiln provides an <a href="inputs.md">ever-growing variety of fields</a> that can be used to edit almost any kind of data you desire. To open these forms, add a <code>data-editable</code> attribute on the relevant element and point it to a field or group.</p>
<pre><code class="lang-handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-editable</span>=<span class="hljs-string">&quot;myField&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span></code></pre>
<p>Overlay forms frequently consist of a single field. This is a perfectly acceptable user experience, because overlay forms will open where the user clicks.</p>
<p><img src="images/overlay_form_single_field.png" alt=""></p>
<h3 id="groups">Groups</h3>
<p>For forms with multiple fields, those fields must be combined into groups. A group must have a <code>fields</code> property, and may have <code>_label</code> and <code>_placeholder</code> properties.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">title:</span>
<span class="hljs-attr">  _label:</span> Title
<span class="hljs-attr">  _has:</span> text

<span class="hljs-attr">url:</span>
<span class="hljs-attr">  _label:</span> URL
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    type:</span> url

<span class="hljs-attr">_groups:</span>
<span class="hljs-attr">  link:</span>
<span class="hljs-attr">    _label:</span> Link Information
<span class="hljs-attr">    fields:</span>
<span class="hljs-bullet">      -</span> title
<span class="hljs-bullet">      -</span> url
</code></pre>
<p>When end users click the <code>data-editable</code> attribute that points to this group, it will open an overlay form with all of the group&apos;s fields, in order.</p>
<pre><code class="lang-handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">data-editable</span>=<span class="hljs-string">&quot;link&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">{{ url }}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><span class="hljs-template-variable">{{ title }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</span></code></pre>
<h3 id="group-placeholders">Group Placeholders</h3>
<p>If you add a <code>_placeholder</code> to a group, you must either make it permanent or specify what fields it should check with <code>ifEmpty</code>.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">_groups:</span>
<span class="hljs-attr">  link:</span>
<span class="hljs-attr">    _label:</span> Link Information
<span class="hljs-attr">    _placeholder:</span>
<span class="hljs-attr">      text:</span> Link
<span class="hljs-attr">      height:</span> <span class="hljs-number">24</span>px
<span class="hljs-attr">      ifEmpty:</span> url
<span class="hljs-attr">    fields:</span>
<span class="hljs-bullet">      -</span> title
<span class="hljs-bullet">      -</span> url
</code></pre>
<p>Placeholders in groups may check multiple fields with <code>ifEmpty</code>. This is useful for components with editable links, as you&apos;ll usually want to display a placeholder when either the url or the link text are empty. Operators are case-insensitive, and you can use <code>AND</code>, <code>OR</code>, or <code>XOR</code>.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">_groups:</span>
<span class="hljs-attr">  link:</span>
<span class="hljs-attr">    _label:</span> Link Information
<span class="hljs-attr">    _placeholder:</span>
<span class="hljs-attr">      text:</span> Link
<span class="hljs-attr">      height:</span> <span class="hljs-number">24</span>px
<span class="hljs-attr">      ifEmpty:</span> url or title
<span class="hljs-attr">    fields:</span>
<span class="hljs-bullet">      -</span> title
<span class="hljs-bullet">      -</span> url
</code></pre>
<div class="callout callout-info"><h4 id="using-xor">Using XOR</h4><div><p>Please note that when comparing <em>more than two fields</em>, you cannot use <code>XOR</code> (as it&apos;s logically impossible to XOR more than two boolean values). For <code>AND</code>, <code>OR</code>, and <code>XOR</code> you must also use the same comparator between each field rather than mixing and matching them.</p></div></div>
<h3 id="settings-group">Settings Group</h3>
<p>The <em>Component Settings Form</em> is a special type of overlay form that&apos;s created when you add a group called <code>settings</code> to your schema. Components with <code>settings</code> groups get a button in their component selector to open the settings form, so don&apos;t add <code>data-editable=&quot;settings&quot;</code> to any elements in the template. Settings groups must not have <code>_label</code> (their form will be titled &quot;[Component Name] Settings&quot;), though they may have <code>_placeholder</code> (this is useful for permanent placeholders).</p>
<pre><code class="lang-yaml"><span class="hljs-attr">_groups:</span>
<span class="hljs-attr">  settings:</span>
<span class="hljs-attr">    fields:</span>
<span class="hljs-bullet">      -</span> title
<span class="hljs-bullet">      -</span> url
</code></pre>
<p><img src="images/settings_form.png" alt=""></p>
<div class="callout callout-info"><h4 id="head-and-invisible-component-settings">Head and Invisible Component Settings</h4><div><p>Components in <code>&lt;head&gt;</code> or invisible lists must have <em>all</em> of their fields available in settings forms, as they don&apos;t have any visible elements that can be clicked. The settings forms are accesible from the <a href="manipulating-components.html#head-lists">Find on Page drawer</a></p></div></div>
<p>Settings forms are useful for <code>&lt;head&gt;</code> and invisible components, as well as <em>optional</em> fields that aren&apos;t frequently accessed. They&apos;re also useful to provide manual fallbacks for automatic component logic, such as fields that are generated in <code>model.js</code> files.</p>
<h3 id="tabbed-form-sections">Tabbed Form Sections</h3>
<p>Overlay and settings forms may split their fields into tabs. This is useful to group related fields by feature, or to provide a consistent tab for fields that override others. Sections are declared by wrapping the section name in parenthesis in the <code>fields</code> property.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">_groups:</span>
<span class="hljs-attr">  settings:</span>
<span class="hljs-attr">    fields:</span>
<span class="hljs-bullet">      -</span> imageUrl
<span class="hljs-bullet">      -</span> caption
<span class="hljs-bullet">      -</span> slideshowType (Slideshow)
<span class="hljs-bullet">      -</span> slideshowLink (Slideshow)
<span class="hljs-bullet">      -</span> slideshowButtonText (Slideshow)
<span class="hljs-bullet">      -</span> sass (Custom Styles)
</code></pre>
<p>If you specify sections for some fields but leave the other fields blank, they&apos;ll be added to a <em>General</em> section. Fields and sections will appear in the form in the order they&apos;ve been listed.</p>
<p><img src="images/form_tabs.png" alt=""></p>
<h2 id="field-configuration">Field Configuration</h2>
<p>All fields in Kiln have a standard configuration, no matter what kind of input they use. As noted above, the most basic properties of the field config are <code>_label</code> and <code>_has</code>. These denote the label that appears when looking at the form and what kind of input the field uses. <code>_has</code> can be a string (if the input has no arguments) or an object with an <code>input</code> property.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">title:</span>
<span class="hljs-attr">  _label:</span> Title
<span class="hljs-attr">  _has:</span> text

<span class="hljs-attr">url:</span>
<span class="hljs-attr">  _label:</span> URL
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    type:</span> url
</code></pre>
<h3 id="reveal">Reveal</h3>
<p>Fields may also have a special <code>_reveal</code> property, which allows you to hide or show the field based on some data.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">syndication:</span>
<span class="hljs-attr">  _label:</span> Article Syndication Type
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> radio
<span class="hljs-attr">    options:</span>
<span class="hljs-bullet">      -</span> original
<span class="hljs-bullet">      -</span> copy

<span class="hljs-attr">syndicationUrl:</span>
<span class="hljs-attr">  _label:</span> Original Article URL
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    type:</span> url
<span class="hljs-attr">  _reveal:</span>
<span class="hljs-attr">    field:</span> syndication
<span class="hljs-attr">    operator:</span> ===
<span class="hljs-attr">    value:</span> copy
</code></pre>
<p>In this example, the <em>Original Article URL</em> field would only be displayed if the <em>Article Syndication Type</em> was set to <code>copy</code>, since that would mean the article was being syndicated from some other place. You can compare against other fields or even against the site you&apos;re on.</p>
<ul>
<li><strong>field</strong> - to compare against, and/or...</li>
<li><strong>sites</strong> - to compare against (will be true if the current site is one of them)</li>
<li><strong>operator</strong> - optional operator to use for the comparison (defaults to <code>===</code>)</li>
<li><strong>value</strong> - optional value to compare against</li>
</ul>
<p>If neither <code>operator</code> nor <code>value</code> are specified, the field will be shown when the compared field has any data (the same as the <code>not-empty</code> operator). The syntax for comparing against sites is the same as <a href="manipulating-components.html#site-specific-components">site-specific components in lists</a>.</p>
<p><strong>Operators:</strong></p>
<ul>
<li><code>===</code></li>
<li><code>!==</code></li>
<li><code>&lt;</code></li>
<li><code>&gt;</code></li>
<li><code>&lt;=</code></li>
<li><code>&gt;=</code></li>
<li><code>typeof</code></li>
<li><code>regex</code></li>
<li><code>empty</code> (only checks field data, no value needed)</li>
<li><code>not-empty</code> (only checks field data, no value needed)</li>
<li><code>truthy</code> (only checks field data, no value needed)</li>
<li><code>falsy</code> (only checks field data, no value needed)</li>
</ul>
<div class="callout callout-info"><h4 id="deep-field-comparisons">Deep Field Comparisons</h4><div><p>You can compare against deep fields (like <code>checkbox-group</code> or <code>complex-list</code>) by using dot-separated paths, e.g. <code>featureTypes.New York Magazine Story</code>. Don&apos;t worry about the spaces, as Kiln will parse it correctly to pull the relevant data.</p></div></div>
<h3 id="standard-input-arguments">Standard Input Arguments</h3>
<p>Kiln&apos;s inputs are highly customized to the type of data they handle, but there are some shared arguments that work with most inputs.</p>
<ul>
<li><strong>help</strong> - description / helper text for the field, which generally appears below it</li>
<li><strong><a href="glossary.html#attachedbutton" class="glossary-term" title="Icon button attached to a field. May be the name of the button (if it doesn&apos;t have any arguments), or an object with a name property.">attachedButton</a></strong> - an icon button that may be attached to the field, to allow additional functionality</li>
<li><p><strong>validate</strong> - an object that contains pre-publish validation rules:</p>
</li>
<li><p><strong>validate.required</strong> - either <code>true</code> or an object that described the conditions that should make this field required (using the same properties as <code>_reveal</code>)</p>
</li>
<li><strong>validate.min</strong> - minimum number (for numerical inputs) or length (for text and array inputs) that the field must meet</li>
<li><strong>validate.max</strong> - maximum number (for numerical inputs) or length (for text and array inputs) that the field must not exceed</li>
<li><strong>validate.pattern</strong> - regex pattern, for text inputs</li>
</ul>
<p>Validation rules may also have custom error messages, that will appear in the same place as the help text. If you do not specify a message, default error messages will appear.</p>
<ul>
<li><strong>validate.requiredMessage</strong> - will appear when required validation fails</li>
<li><strong>validate.minMessage</strong> - will appear when minimum validation fails</li>
<li><strong>validate.maxMessage</strong> - will appear when maximum validation fails</li>
<li><strong>validate.patternMessage</strong> - will appear when pattern validation fails (very handy to set, as the default message is vague)</li>
</ul>
<p>Attached buttons are very useful when combined with custom Kiln inputs, but Kiln comes with two built-in: <code>lock</code> and <code>mediaplay-picker</code>.</p>
<p><strong>Lock</strong> is a button that disables a field until the user clicks the button. This provides a small amount of friction before editing important (and rarely-edited) fields, similar to macOS&apos;s system preferences.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">adName:</span>
<span class="hljs-attr">  _label:</span> Name
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    help:</span> The name DFP uses to traffic the appropriate ad
<span class="hljs-attr">    attachedButton:</span> lock
</code></pre>
<p><img src="images/locked_field.png" alt=""></p>
<p>Clicking the lock toggles the input between disabled and enabled state.</p>
<p><img src="images/unlocked_field.png" alt=""></p>
<p><strong>Magic Button</strong> is a button that fetches data, allowing quick population of fields based on other fields, other component data, or the result of api calls.</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># pull short headline from regular headline</span>
<span class="hljs-attr">shortHeadline:</span>
<span class="hljs-attr">  _label:</span> Short Headline
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> wysiwyg
<span class="hljs-attr">    attachedButton:</span>
<span class="hljs-attr">      name:</span> magic-button
<span class="hljs-attr">      field:</span> headline

<span class="hljs-comment"># pull feed image from first image component</span>
<span class="hljs-attr">feedImage:</span>
<span class="hljs-attr">  _label:</span> Feed Image
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    type:</span> url
<span class="hljs-attr">    attachedButton:</span>
<span class="hljs-attr">      name:</span> magic-button
<span class="hljs-attr">      component:</span> image
<span class="hljs-attr">      transform:</span> getComponentInstance
<span class="hljs-attr">      url:</span> $SITE_PREFIX
<span class="hljs-attr">      property:</span> url

<span class="hljs-comment"># pull image caption from image management server&apos;s api</span>
<span class="hljs-attr">caption:</span>
<span class="hljs-attr">  _label:</span> Image Caption
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    input:</span> text
<span class="hljs-attr">    attachedButton:</span>
<span class="hljs-attr">      name:</span> magic-button
<span class="hljs-attr">      field:</span> url
<span class="hljs-attr">      url:</span> http://my-image-api.biz/
<span class="hljs-attr">      property:</span> metadata.caption
</code></pre>
<p>For more information about <code>magic-button</code>, <a href="inputs.md#magic-button">please see its specific documentation</a>.</p>
<h2 id="cross-component-communication">Cross Component Communication</h2>
<p>Components can affect other components on the page by publishing and subscribing to properties (such as <code>title</code>, <code>description</code>, <code>ledeImage</code>, etc). This allows many-to-many communication in Kiln, as multiple components can publish or subscribe to the same property, and components can publish or subscribe to multiple different properties. There are no restrictions on pubsub property names, so be sure to avoid unintended collisions!</p>
<h3 id="publishing">Publishing</h3>
<p>To publish to a property, add <code>_publish</code> to your field. The component will send data to that property <em>after</em> their <code>model.save()</code> logic is run (if they have any). This allows that component to perform logic before propagating its data, such as generating extra fields.</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># non-user-editable fields, set by model.js and used for pubsub</span>
<span class="hljs-attr">plaintextTitle:</span>
<span class="hljs-attr">  _publish:</span> pageTitle
<span class="hljs-attr">  _has:</span>
<span class="hljs-attr">    help:</span> Plaintext page title, set by seoHeadline, shortHeadline, or primaryHeadline.
</code></pre>
<h3 id="subscribing">Subscribing</h3>
<p>Components that want to subscribe to properties should have <code>_subscribe</code> on the field(s) they want to update, with the name of the property it should subscribe to. Subscribed properties will trigger a component to save, thus allowing the subscribed component&apos;s <code>model.save()</code> method to do logic on the incoming data before it&apos;s sent to the server.</p>
<pre><code class="lang-yaml"><span class="hljs-attr">ogTitle:</span>
<span class="hljs-attr">  _subscribe:</span> pageTitle
<span class="hljs-attr">  _label:</span> OG:Title
<span class="hljs-attr">  _has:</span> text
</code></pre>
<h3 id="pubsub-tips">PubSub Tips</h3>
<p>Kiln intelligently prevents a component from publishing more than once during pubsub, so you may safely create circular pubsub logic. For example, a <code>tags</code> component may update an <code>article</code>&apos;s <code>primaryTag</code> field, and the <code>article</code> may also allow editing of that field (and propagating those changes back to <code>tags</code>).</p>
<p>As cross-component updating is a feature of Kiln, it only works client-side. For third-party microservices or manual API calls, please make use of <a href="https://github.com/nymag/amphora/pull/73" target="_blank">cascading PUTs</a> to affect multiple components.</p>
<p>If you have data you want to propagate when publishing (which happens server-side), have your <a href="http://clay.github.io/amphora/docs/basics/publishing.html" target="_blank">publishing service</a> add that data to the locals object, which will be passed in to all components&apos; <code>model.save()</code> method.</p>
<h3 id="kiln-subscribers">Kiln Subscribers</h3>
<p>Kiln itself subscribes to a few specific properties, which it uses to update its index of pages. Publishing to <code>kilnTitle</code> will update the page title, and <code>kilnAuthors</code> will update the page authors. You can see the results in the Clay Menu.</p>
<p><img src="images/clay_menu.png" alt=""></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="manipulating-components.html#fuzzy-lists" class="navigation navigation-prev " aria-label="Previous page: Fuzzy Lists">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="editing-components.html#inline-wysiwyg" class="navigation navigation-next " aria-label="Next page: Inline WYSIWYG">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Editing Components","level":"1.2.2","depth":2,"next":{"title":"Inline WYSIWYG","level":"1.2.2.1","depth":3,"anchor":"#inline-wysiwyg","path":"editing-components.md","ref":"editing-components.md#inline-wysiwyg","articles":[]},"previous":{"title":"Fuzzy Lists","level":"1.2.1.6","depth":3,"anchor":"#fuzzy-lists","path":"manipulating-components.md","ref":"manipulating-components.md#fuzzy-lists","articles":[]},"dir":"ltr"},"config":{"plugins":["github","anchorjs","bootstrap-callout"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/clay/clay-kiln/"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"bootstrap-callout":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"intro.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kiln","gitbook":"3.2.3"},"file":{"path":"editing-components.md","mtime":"2017-11-07T21:31:16.662Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-08T21:15:50.870Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

